<!DOCTYPE html>
<html lang="ch">
    <head>
        <link rel="icon" href="https://shijiatongxue.github.io/images/sj.png" type="image/png">
        <link rel="shortcut icon" href="https://shijiatongxue.github.io/images/sj.png" type="image/png">
        <link rel="stylesheet" href="https://shijiatongxue.github.io/styles/article.css">
        <title>聊聊HTTPS</title>
    </head>
    <body>
        <!-- 输入文章类别： -->
        <article>
            <h1>聊聊HTTPS</h1>
            <p class="info">作者：石嘉</p>
            <p class="info">日期：2019年7月7日</p>
            <p class="info">参考：<a href="https://zhuanlan.zhihu.com/p/38278311">又拍云</a></p>
            <p class="info">参考：<a href="http://www.ruanyifeng.com/blog/2014/02/ssl_tls.html">阮一峰</a></p>
            <h2>SSL层</h2>
            <p>简而言之，HTTPS就是在HTTP下加入了SSL层，它有以下3个用途：</p>
            <ol>
                <li>通过证书信息确认网站的真实性；</li>
                <li>建立加密的信息通道；</li>
                <li>数据内容的完整性。</li>
            </ol>
            <h2>问题</h2>
            <p>网站的证书如何防止篡改？</p>
            <p>加密是使用的RSA算法吗？</p>
            <p>完整性是否通过哈希值验证？</p>
            <h2>如何实现</h2>
            <p>SSL协议的基本思路是采用公钥加密算法，也就是说，客户端先向服务器端索要公钥，然后用公钥加密信息，服务器收到密文后，用自己的私钥解密。</p>
            <p>但是，这里存在两个问题：</p>
            <ol>
                <li>如何保证公钥不被篡改？</li>
                <p>解决办法：将公钥放在数字证书中。</p>
                <li>公钥加密计算量太大，如何减少耗用时间？</li>
                <p>解决办法：每一对session，客户端和服务器都生成一个“对话秘钥”，用它来加密信息。由于“对话秘钥”是对称加密，所以运算速度很快，而服务器公钥只用于加密“对话秘钥”本身，这样就减少了加密运算的消耗时间。</p>
            </ol>
            <h2>握手阶段的详细过程</h2>
            <p>“握手阶段”设计四次通信，所有通信都是明文的。</p>
            <h3>客户端发出请求</h3>
            <p>首先，客户端先向服务器发送加密通信的请求，这被叫做ClientHello请求。</p>
            <p>在这一步，客户端主要向服务器提供以下信息：</p>
            <ol>
                <li>支持的协议版本，如TSL 1.0版。</li>
                <li>一个客户端生成的随机数，稍后用于生成“对话秘钥”。</li>
                <li>支持的加密方法，比如RSA公钥加密。</li>
                <li>支持的压缩算法。</li>
            </ol>
            <h3>服务器响应</h3>
            <h3>客户端回应</h3>
            <h3>服务器最后回应</h3>
        </article>
        <script src="https://shijiatongxue.github.io/js/prism.js"></script>
    </body>
</html>