<!DOCTYPE html>
<html lang="ch">
    <head>
        <link rel="icon" href="https://shijiatongxue.github.io/images/sj.png" type="image/png">
        <link rel="shortcut icon" href="https://shijiatongxue.github.io/images/sj.png" type="image/png">
        <link rel="stylesheet" href="https://shijiatongxue.github.io/styles/article.css">
        <title>京东面试：写出如下代码打印的结果</title>
    </head>
    <body>
        <!-- 输入文章类别：JavaScript -->
        <article>
            <h1>京东面试：写出如下代码打印的结果</h1>
            <p class="info">作者：石嘉</p>
            <p class="info">日期：2019年7月7日</p>
            <p class="info">参考：壹题</p>
            <h2>题目</h2>
            <pre>
                <code class="language-javascript">
                    function changeObjProperty(o){
                        o.siteUrl = "http://baidu.com"
                        o = new Object();
                        o.siteUrl = "http://www.google.com"
                    }
                    let webSite = new Object();
                    changeObjProperty(webSite);
                    console.log(webSite.siteUrl);
                    // "http://baidu.com"
                </code>
            </pre>
            <h2>分析</h2>
            <p>这道题考查的是参数的传递，对于参数是对象的情况，o作为一个变量引用到webSite对象所在的堆上。这时对o进行修改，则修改的是引用的对象，也就是webSite对象。</p>
            <p>o = new Object(); 这句话重新把对象o引用到一个新的空对象，然后为这个空对象赋值。赋值操作不会对webSite有任何影响。</p>
            <h2>总结</h2>
            <p>参数是按值传递还是按引用传递？</p>
            <p>个人理解：</p>
            <ul>
                <li>应该把基本类型理解为按值传递，直接拷贝的就是原来的值，然后把它放在函数的栈；</li>
                <li>对于对象，要考虑变量的指向，形参会指向实参（也就是对象）所在的堆。</li>
            </ul>
            <p>完</p>
        </article>
        <script src="https://shijiatongxue.github.io/js/prism.js"></script>
    </body>
</html>